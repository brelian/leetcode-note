#include "stdio.h"
#define NAN  99999
int e[101][101],book[101],sum;  //全局变量和静态自动初始化,局部变量不自动初始化
void DFS(int cur, int last);
int max = 0;
int coff = 1;
int main()
{
    int i,j,a,b;
    //读入数据: 图,和total
    // scanf("%d %d",&n,&m);
    //  初始化二维矩阵
    int e[19][19] = {
        {0,0.876,0,0.908,0,0.882,0,0,0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0.888,0.979,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0.878,0.987,0.87,0.981,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0.905,0,0,0.985,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0.854,0,0.88,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0.854,0,0.88,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0.88,0,0.889,0.989,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0.88,0,0.889,0.989,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.873,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.899,0.988,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.889,0.989,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.906,0.989},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.906,0.989},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
    };


    //初始化数据
    book[1] = 1;

    DFS(1,1);
    printf(" k=%d", max);
    return 0;
}

//图的遍历: 深度优先搜索
void DFS(int cur, int last)
{
    int i;
    printf("%d ",cur);
    if (cur == 19 && last == 19) {  //k为计数器,total为图的总结点个数
        if (max < coff)
        {
            max = coff;
        }
        return;
    }

    // 判断该结点与每个节点是否相邻
    for(i=1;i<=19;i++)
    {
        // 该结点与第i个结点是否相邻,若相邻则在没有访问的前提下访问相邻节点
        if(e[cur][i] != 0 && book[i] == 0)
        {
            coff = coff * e[cur][i];
            book[i] = 1;
            DFS(i,cur);
            coff = 1;
        }
    }
    return;
}

